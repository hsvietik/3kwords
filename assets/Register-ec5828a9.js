import{r as R,j as s,l as W,c as v,Q as p}from"./index-31b6bcf2.js";import{u as C,a as k,F as A,H,b as u,L as I,S as N,c as P,d as o,e as n,E as i,I as g,B as w,f as y,g as f,h as _,N as B,i as D,o as M,r as Q,A as T}from"./AuthLayout-dc2a4ed1.js";function U(){var d,l,m,x;const[r,c]=R.useState(!0),S=C(),{register:a,watch:F,handleSubmit:b,formState:{errors:t},reset:E}=k({defaultValues:{name:"",email:"",password:""},resolver:M(Q)}),L=({name:e,email:h,password:j})=>{console.log({name:e,email:h,password:j}),S(v({name:e,email:h,password:j})).unwrap().then(()=>p.success("Account successfully created!")).catch(()=>p.error("Something went wrong, try one nore time!")),E()};return s.jsxs(A,{children:[s.jsxs(H,{children:[s.jsx(u,{children:"Welcome to "}),s.jsx(I,{src:W,alt:"3kWords logo"})," ",s.jsx(u,{children:"Words"})]}),s.jsx(N,{children:"Create your account"}),s.jsxs(P,{onSubmit:b(L),children:[s.jsx(o,{htmlFor:"name",children:"Name"}),s.jsx(n,{...a("name"),type:"text",id:"name"}),s.jsx(i,{children:(d=t.name)==null?void 0:d.message}),s.jsx(o,{htmlFor:"email",children:"Email"}),s.jsx(n,{...a("email"),type:"email",id:"email"}),s.jsx(i,{children:(l=t.email)==null?void 0:l.message}),s.jsx(o,{htmlFor:"password",children:"Password"}),s.jsxs(g,{children:[s.jsx(n,{...a("password"),type:r?"password":"text",id:"password"}),s.jsx(w,{type:"button",onClick:()=>c(e=>!e),children:r&&s.jsx(y,{})||!r&&s.jsx(f,{})})]}),s.jsx(i,{children:(m=t.password)==null?void 0:m.message}),s.jsx(o,{htmlFor:"confirm_password",children:"Confirm password"}),s.jsxs(g,{children:[s.jsx(n,{...a("confirm_password",{validate:e=>e===F("password")||"Passwords do not match"}),type:r?"password":"text",id:"confirm_password"}),s.jsx(w,{type:"button",onClick:()=>c(e=>!e),children:r&&s.jsx(y,{})||!r&&s.jsx(f,{})})]}),s.jsx(i,{children:(x=t.confirm_password)==null?void 0:x.message}),s.jsx(_,{type:"submit",children:"Register"})]}),s.jsxs(B,{children:[s.jsx("p",{children:"Already have an account?"}),s.jsx(D,{to:"/login",children:"Log In"})]})]})}function z(){return s.jsx(T,{children:s.jsx(U,{})})}export{z as default};
