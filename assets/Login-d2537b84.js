import{r as S,j as s,l as y,a as f,Q as o}from"./index-a705ec34.js";import{u as F,a as L,F as E,H as b,b as d,L as W,S as v,c as H,d as c,e as u,E as m,I,B as R,f as k,g as B,h as C,N,i as P,o as A,l as D,A as q}from"./AuthLayout-da9c4771.js";function M(){var i,l;const[e,h]=S.useState(!0),x=F(),{register:t,handleSubmit:j,formState:{errors:n},reset:p}=L({defaultValues:{email:"",password:""},resolver:A(D)}),g=({email:r,password:w})=>{x(f({email:r,password:w})).unwrap().then(a=>{o.success(`Successfully logged in as ${a.user.name}`)}).catch(a=>{a==="Request failed with status code 400"?o.error("Wrong email or password"):o.error("Something went wrong, try one nore time!")}),p()};return s.jsxs(E,{children:[s.jsxs(b,{children:[s.jsx(d,{children:"Welcome to "}),s.jsx(W,{src:y,alt:"3kWords logo"})," ",s.jsx(d,{children:"Words"})]}),s.jsx(v,{children:"Log in to your account"}),s.jsxs(H,{onSubmit:j(g),children:[s.jsx(c,{htmlFor:"email",children:"Email"}),s.jsx(u,{...t("email"),type:"email",id:"email"}),s.jsx(m,{children:(i=n.email)==null?void 0:i.message}),s.jsx(c,{htmlFor:"password",children:"Password"}),s.jsxs(I,{children:[s.jsx(u,{...t("password"),type:e?"password":"text",id:"password"}),s.jsx(R,{onClick:()=>h(r=>!r),children:e&&s.jsx(k,{})||!e&&s.jsx(B,{})})]}),s.jsx(m,{children:(l=n.password)==null?void 0:l.message}),s.jsx(C,{type:"submit",children:"Login"})]}),s.jsxs(N,{children:[s.jsx("p",{children:"Don`t have an account?"}),s.jsx(P,{to:"/register",children:"Create"})]})]})}function V(){return s.jsx(q,{children:s.jsx(M,{})})}export{V as default};
